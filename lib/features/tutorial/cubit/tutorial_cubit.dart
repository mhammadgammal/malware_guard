import 'package:bloc/bloc.dart';
import 'package:firebase_storage/firebase_storage.dart';
import 'package:flutter/src/widgets/framework.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:meta/meta.dart';

part 'tutorial_state.dart';

class TutorialCubit extends Cubit<TutorialState> {
  TutorialCubit() : super(TutorialInitial());

  String videoUrl = '';

  void fetchTutorial() async {
    final storageRef =
        FirebaseStorage.instanceFor(bucket: "gs://malware-guard.appspot.com")
            .ref();
    videoUrl = await storageRef
        .child('videos/istockphoto-993253088-640_adpp_is.mp4')
        .getDownloadURL();

    emit(TutorialVideosLoadedState());
  }

  static TutorialCubit get(BuildContext context) => BlocProvider.of(context);
}
